{"version":3,"file":"index.js","sourceRoot":"","sources":["index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,iBAgIA;AA9GA,SAAe,SAAS;;;;;wBACH,qBAAM,KAAK,CAAC,qBAAqB,EAAE;wBAChD,MAAM,EAAE,KAAK;qBAChB,CAAC,EAAA;;oBAFI,QAAQ,GAAG,SAEf;oBACW,qBAAM,QAAQ,CAAC,IAAI,EAAE,EAAA;;oBAA5B,IAAI,GAAG,SAAqB;oBAClC,sBAAO,IAAI,EAAC;;;;CACf;AAED,SAAS,aAAa,CAAC,KAAY;IAC/B,OAAO,2EAEG,KAAK,CAAC,KAAK,2BACX,KAAK,CAAC,QAAQ,4CAGZ,KAAK,CAAC,MAAM,CAAC,GAAG,CAAC,UAAA,CAAC,IAAI,OAAA,2FAEI,CAAC,CAAC,IAAI,4QAQxB,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,UAAC,CAAC,EAAE,CAAC,IAAK,OAAA,sDACA,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,MAAM,GAAE,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,wFAE/C,CAAC,CAAC,IAAI,2HAGN,CAAC,CAAC,WAAW,2HAIX,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,UAAA,CAAC,IAAI,OAAA,8GAEL,CAAC,uIAEA,CAAC,wOAIjB,EARoB,CAQpB,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,yGAI1B,EAtBsB,CAsBtB,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,uBAElB,EAlCqB,CAkCrB,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,mCAIf,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,UAAA,CAAC,IAAI,OAAA,2CACG,CAAC,yBACxB,EAFoB,CAEpB,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,uwCA8BlB,CAAC;AACN,CAAC;AAED,SAAS,WAAW,CAAC,CAAS;IAC1B,OAAO,KAAG,CAAG,CAAC;AAClB,CAAC;AAED,SAAS,KAAK,CAAC,QAAgB,EAAE,IAAY;IACzC,IAAM,EAAE,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IAC5C,IAAI,EAAE,EAAE;QACJ,EAAE,CAAC,SAAS,GAAG,IAAI,CAAC;KACvB;AACL,CAAC;AAED,CAAC;;;;;gBACS,IAAI,GAAG,OAAO,CAAC;;;;gBAEJ,qBAAM,SAAS,EAAE,EAAA;;gBAAxB,IAAI,GAAG,SAAiB;gBACxB,IAAI,GAAG,aAAa,CAAC,IAAI,CAAC,CAAC;gBACjC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;;;;gBAEZ,IAAI,GAAG,WAAW,CAAC,GAAC,CAAC,OAAO,CAAC,CAAC;gBACpC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;;;;;KAEzB,CAAC,EAAE,CAAC","sourcesContent":["interface Topic {\n    name: string;\n    description: string;\n    resources: string[];\n}\n\ninterface Level {\n    name: string;\n    topics: Topic[];\n}\n\ninterface Props {\n    title: string;\n    subtitle: string;\n    levels: Level[],\n    notes: string[]\n}\n\nasync function fetchData(): Promise<Props> {\n    const response = await fetch(\"./data/data.en.json\", {\n        method: \"GET\"\n    });\n    const data = await response.json();\n    return data;\n}\n\nfunction renderContent(props: Props) {\n    return `\n        <img class=\"logo\" src=\"./assets/ts.png\" />\n        <h1>${props.title}</h1>\n        <h4>${props.subtitle}</h4>\n        <table>\n            ${\n                props.levels.map(l => `\n                    <tr class=\"level\">\n                        <td colspan=\"3\">${l.name}</td>\n                    </tr>\n                    <tr class=\"level-subtitle\">\n                        <td>CONCEPTS</td>\n                        <td>SKILLS</td>\n                        <td>RESOURCES</td>\n                    </tr>\n                    ${\n                        l.topics.map((t, i) => `\n                            <tr class=\"topic ${i === l.topics.length -1 ? \"last\" : \"\"}\">\n                                <td>\n                                    ${t.name}\n                                </td>\n                                <td>\n                                    ${t.description}\n                                </td>\n                                <td>\n                                    ${\n                                        t.resources.map(r => `\n                                            <a\n                                                href=\"${r}\"\n                                                target=\"_blank\"\n                                                title=\"${r}\"\n                                            >\n                                                <i class=\"material-icons\">link</i>\n                                            </a>\n                                        `).join(\"\")\n                                    }\n                                </td>\n                            </tr>\n                        `).join(\"\")\n                    }\n                `).join(\"\")\n            }\n        <table>\n        ${\n            props.notes.map(n => `\n                <div class=\"note\">${n}</div>\n            `).join(\"\")\n        }\n        <div class=\"promo\">\n            <h1>Would you like to learn more?</h1>\n            <p>\n                Check out my new book <b>Learning TypeScript 2.x</b> (Second edition)\n                to learn everything in the preceding list and more from a single source!\n                Available now at all major retailers!\n            </p>\n            <a href=\"http://www.learningtypescript.com/\">\n                <img src=\"./assets/book.png\"/>\n            </a>\n            <p>\n                Learn more at\n                <a href=\"http://www.learningtypescript.com/\">www.learningtypescript.com</a>\n            </p>\n        </div>\n        <div class=\"copyright\">\n            Copyright &copy; 2018 <a href=\"https://twitter.com/RemoHJansen\">Remo H. Jansen</a>.\n            Code licensed under\n            <a\n                href=\"https://github.com/remojansen/TSPL/blob/master/LICENSE\"\n            >the MIT license</a>.\n            <br/>\n            Content licensed under the\n            <a\n                href=\"https://creativecommons.org/licenses/by/4.0/\"\n                title=\"Creative Commons Attribution 4.0 International license\"\n            >the Creative Commons Attribution 4.0 International license<a>.\n        </div>\n    `;\n}\n\nfunction renderError(e: string) {\n    return `${e}`;\n}\n\nfunction mount(selector: string, html: string) {\n    const $e = document.querySelector(selector);\n    if ($e) {\n        $e.innerHTML = html;\n    }\n}\n\n(async () => {\n    const root = \"#main\";\n    try {\n        const data = await fetchData();\n        const html = renderContent(data);\n        mount(root, html);\n    } catch(e) {\n        const html = renderError(e.message);\n        mount(root, html);\n    }\n})();\n"]}